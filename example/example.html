<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>jQeury.bgSwitcher.js</title>
	<script src="http://www.google.com/jsapi"></script>
	<script>google.load("jquery", location.search.replace(/\?/, '') || "1.4.2");</script>
	<script src="../jquery.bgSwitcher.js"></script>
<style type="text/css">
body {
	margin: 10px;
	padding: 0 30px;
}
div.container {
	padding: 0 80px;
	overflow: hidden;
	zoom: 1;
}
.bg {
	width: 160px;
	height: 160px;
	margin: 0 0 40px;
	padding: 20px;
	background: url('./images/image1.gif') 0 10px repeat;
	line-height: 1.6;
}
#timer {
	position: fixed;
	top: 0;
	left: 0;
	width: 80px;
	padding: 5px 10px;
	background-color: #CCC;
	text-align: right;
}
h1 {
	margin: 0 0 1em;
	font-size: 24px;
}
h2 {
	margin: 1.5em 0 0.5em;
	font-size: 16px;
}
ul {
	width: 800px;
	margin: 0;
	padding: 0;
	overflow: hidden;
	list-style: none;
}
ul li {
	float: left;
	width: 400px;
}
ul.nav {
	width: auto;
	margin: 0 0 0.5em;
	padding: 0 0 0 15px;
	border-left: 1px solid #CCC;
	overflow: hidden;
	zoom: 1;
}
ul.nav li {
	width: auto;
	margin: 0 15px 0 0;
	padding: 0 15px 0 0;
	border-right: 1px solid #CCC;
	border-bottom: 0;
}
p {
	margin: 0 0 0.5em;
}
</style>
</head>
<body>
<div class="container">

	<h1>jQuery.bgSwitcher</h1>
	<p>Switching every two seconds.</p>

	<ul>
		<li>
			<h2>Fade out + not loop</h2>
			<div id="bgSwitch-fadeOut" class="bg">
				<p>text text text text text text text text text text text text text text text text</p>
			</div>
		</li>

		<li>
			<h2>Slide up + Random</h2>
			<div id="bgSwitch-random" class="bg">
				<p>text text text text text text text text text text text text text text text text</p>
			</div>
		</li>

		<li>
			<h2>For inline elements</h2>
			<p><span id="bgSwitch-inline">text text</span></p>
		</li>

		<li>
			<h2>FadeSpeed: 0</h2>
			<div id="bgSwitch-normal" class="bg">
				<p>text text text text text text text text text text text text text text text text</p>
			</div>
		</li>
	</ul>

	<div id="maxWidth">
		<h2>style=width:100%</h2>
		<div class="bg" style="width: 100%;">
			<p>text text text text text text text text text text text text text text text text text text text</p>
		</div>
	</div>

	<div id="marginAuto">
		<h2>margin: auto</h2>
		<div class="bg" style="width: 800px; margin: auto;">
			<p> text text text text text text text text text text text text</p>
		</div>
	</div>

	<div id="timer">0 sec</div>
</div>
<script>
jQuery(function($) {

	var time = 0, timer = $('#timer');
	setInterval(function() {
		timer.html(++time +' sec');
	}, 1000);

	$.bgSwitcher.defaultOptions.interval = 2000;
	$.bgSwitcher.defaultOptions.images = ['./images/image.gif', 1, 5];

	var methods = ['start', 'stop', 'toggle', 'reset'];
	$('.bg, #bgSwitch-inline').each(function() {
		var self = $(this),
		    nav  = $('<ul>').addClass('nav');
		$(methods).each(function(i, method) {
			var ctrl = $('<a>', {
				href: 'javascript:void(0)',
				text: method,
				click: function() {
					var bs = self.data('bgSwitcher');
					bs[method]();
				}
			});
			nav.append($('<li>').append(ctrl));
		});
		if (this.tagName === 'SPAN') {
			return self.parents('p').before(nav);
		}
		self.before(nav);
	});

	$('#bgSwitch-normal').bgSwitcher({
		fadeSpeed: 0
	});

	$('#bgSwitch-fadeOut').bgSwitcher({
		loop: false
	});

	$('#bgSwitch-random').bgSwitcher({
		random: true,
		switchHandler: function() {
			this.node.slideUp(this.options.duration, this.options.easing);
		}
	});

	$('#bgSwitch-inline').bgSwitcher();
	$('#maxWidth .bg').bgSwitcher();
	$('#marginAuto .bg').bgSwitcher();
})
</script>
</body>
</html>
